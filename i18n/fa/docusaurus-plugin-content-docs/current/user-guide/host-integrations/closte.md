---
title: یکپارچه‌سازی Closte
sidebar_position: 7
_i18n_hash: 8f07c74ab2f7df614f502e0cc089c3e0
---
# ادغام Closte

## نگاه کلی
Closte یک پلتفرم هاستینگ مدیریت‌شده WordPress است که روی زیرساخت Google Cloud ساخته شده. این ادغام امکان همگام‌سازی خودکار دامنه و مدیریت گواهی SSL بین Ultimate Multisite و Closte را فراهم می‌کند.

## امکانات
- همگام‌سازی خودکار دامنه
- مدیریت گواهی SSL
- پشتیبانی از دامنه wildcard
- بدون نیاز به تنظیمات اگر روی Closte اجرا می‌شود

## پیش‌نیازها
اگر از Closte استفاده می‌کنید، باید ثابت زیر را در فایل `wp-config.php` خود تعریف کنید:

```php
define('CLOSTE_CLIENT_API_KEY', 'your_api_key');
```

این ثابت معمولاً از قبل تعریف شده است اگر روی Closte میزبانی می‌شوید.

## راهنمای راه‌اندازی

### ۱. بررسی کلید API Closte

اگر روی Closte میزبانی می‌شوید، ثابت `CLOSTE_CLIENT_API_KEY` باید از قبل در فایل `wp-config.php` شما تعریف شده باشد. می‌توانید این موضوع را با بررسی فایل `wp-config.php` خود تأیید کنید.

### ۲. فعال‌سازی ادغام

1. در پنل مدیریت WordPress، به Ultimate Multisite > Settings بروید
2. به تب "Domain Mapping" بروید
3. به پایین اسکرول کنید تا به "Host Integrations" برسید
4. ادغام Closte را فعال کنید
5. روی "Save Changes" کلیک کنید

## نحوه کار

وقتی یک دامنه در Ultimate Multisite نگاشت می‌شود:

1. ادغام یک درخواست به API Closte ارسال می‌کند تا دامنه به اپلیکیشن شما اضافه شود
2. Closte به‌طور خودکار صدور گواهی SSL را انجام می‌دهد
3. وقتی نگاشت دامنه حذف می‌شود، ادغام دامنه را از Closte حذف می‌کند

این ادغام همچنین با تنظیم فاصله زمانی بررسی DNS در Ultimate Multisite کار می‌کند و به شما امکان می‌دهد تنظیم کنید که سیستم چند وقت یک‌بار انتشار DNS و صدور گواهی SSL را بررسی کند.

## ایجاد رکورد دامنه

این ادغام تضمین می‌کند که وقتی یک سایت ایجاد یا کپی می‌شود، یک رکورد دامنه به‌طور خودکار ساخته می‌شود. این موضوع برای ادغام Closte بسیار مهم است، زیرا ایجاد رکورد دامنه باعث می‌شود API Closte دامنه و گواهی SSL را بسازد.

## عیب‌یابی

### مشکلات اتصال API
- بررسی کنید که کلید API Closte شما صحیح باشد
- مطمئن شوید که حساب Closte شما مجوزهای لازم را دارد

### مشکلات گواهی SSL
- Closte ممکن است برای صدور گواهی‌های SSL کمی زمان نیاز داشته باشد (معمولاً ۵ تا ۱۰ دقیقه)
- بررسی کنید که دامنه‌های شما به‌درستی به آدرس IP سرور Closte شما اشاره می‌کنند
- رکوردهای DNS دامنه خود را بررسی کنید تا مطمئن شوید به‌درستی پیکربندی شده‌اند

### دامنه اضافه نشده
- لاگ‌های Ultimate Multisite را برای پیام‌های خطا بررسی کنید
- مطمئن شوید که دامنه قبلاً به Closte اضافه نشده باشد
- اطمینان حاصل کنید که رکوردهای DNS دامنه شما به‌درستی پیکربندی شده‌اند

### فاصله زمانی بررسی DNS
- اگر صدور گواهی‌های SSL بیش از حد طول می‌کشد، می‌توانید فاصله زمانی بررسی DNS را در تنظیمات Domain Mapping تنظیم کنید
- فاصله زمانی پیش‌فرض ۳۰۰ ثانیه (۵ دقیقه) است، اما می‌توانید آن را تا ۱۰ ثانیه برای بررسی سریع‌تر در هنگام تست کاهش دهید
