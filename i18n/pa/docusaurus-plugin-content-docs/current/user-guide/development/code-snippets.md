---
title: ਕੋਡ ਸਨਿੱਪਟਸ
sidebar_position: 1
_i18n_hash: 2284b14474d86f665fa7c84cc305553e
---
# v2 ਲਈ ਕੋਡ ਸਨਿੱਪੇਟ

ਮੂਲ ਰੂਪ ਵਿੱਚ, **WordPress** ਲਈ ਕੋਡ ਸਨਿੱਪੇਟ ਕੁਝ ਖਾਸ ਕੰਮ ਕਰਨ ਲਈ ਵਰਤੇ ਜਾਂਦੇ ਹਨ ਜਿਨ੍ਹਾਂ ਲਈ ਨਹੀਂ ਤਾਂ ਇੱਕ ਵੱਖਰਾ ਛੋਟਾ plugin ਲੋੜੀਂਦਾ ਹੁੰਦਾ। ਅਜਿਹੇ ਕੋਡ ਸਨਿੱਪੇਟ WordPress ਕੋਰ ਜਾਂ ਥੀਮ ਫਾਈਲਾਂ ਵਿੱਚੋਂ ਕਿਸੇ ਇੱਕ ਵਿੱਚ ਰੱਖੇ ਜਾਂਦੇ ਹਨ (ਆਮ ਤੌਰ 'ਤੇ ਤੁਹਾਡੀ ਥੀਮ ਦੀ functions.php ਫਾਈਲ) ਜਾਂ ਇਹ MU plugin ਵਜੋਂ ਵਰਤੇ ਜਾ ਸਕਦੇ ਹਨ।

ਇਸ ਲੇਖ ਵਿੱਚ ਅਸੀਂ ਤੁਹਾਨੂੰ ਤਿੰਨ ਕੋਡ ਸਨਿੱਪੇਟ ਦਿਖਾਵਾਂਗੇ ਜੋ **Ultimate Multisite v2** ਨਾਲ ਵਰਤੇ ਜਾ ਸਕਦੇ ਹਨ:

  * [**Account ਮੀਨੂ ਆਈਟਮ ਦੀ ਸਥਿਤੀ ਬਦਲਣਾ**](#changing-the-position-of-the-account-menu-item)

  * [**ਇਹ ਕਿਵੇਂ ਜਾਂਚ ਕਰੀਏ ਕਿ ਯੂਜ਼ਰ ਕਿਸੇ ਖਾਸ ਪਲਾਨ ਅਧੀਨ ਹੈ ਅਤੇ/ਜਾਂ ਉਸਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਹੈ**](#how-to-check-if-the-user-is-under-a-given-plan-andor-has-an-active-subscription)

  * [**ਮੈਪ ਕੀਤੇ ਡੋਮੇਨਾਂ ਵਿੱਚ Font-Icons ਨਾਲ CORS ਸਮੱਸਿਆਵਾਂ ਨੂੰ ਠੀਕ ਕਰਨਾ**](#fixing-cors-issues-with-font-icons-in-mapped-domains)

## Account ਮੀਨੂ ਆਈਟਮ ਦੀ ਸਥਿਤੀ ਬਦਲਣਾ

ਆਪਣੇ ਕਲਾਇੰਟ ਦੇ Dashboard 'ਤੇ Account ਮੀਨੂ ਆਈਟਮ ਦੀ ਸਥਿਤੀ ਬਦਲਣ ਲਈ, ਬੱਸ ਹੇਠਾਂ ਦਿੱਤਾ ਕੋਡ ਸਨਿੱਪੇਟ ਆਪਣੀ ਮੁੱਖ ਸਾਈਟ ਦੀ ਐਕਟਿਵ ਥੀਮ ਦੀ functions.php ਵਿੱਚ ਪਾਓ। ਤੁਸੀਂ ਇਸ ਸਨਿੱਪੇਟ ਨੂੰ ਆਪਣੇ mu-plugins ਜਾਂ ਕਸਟਮ plugins ਵਿੱਚੋਂ ਕਿਸੇ ਇੱਕ ਵਿੱਚ ਵੀ ਰੱਖ ਸਕਦੇ ਹੋ।

add_filter('wu_my_account_menu_position', function() { return 10; // ਮੀਨੂ ਨੂੰ ਲੋੜੀਂਦੀ ਥਾਂ 'ਤੇ ਰੱਖਣ ਲਈ ਇਸ ਵੈਲਿਊ ਨੂੰ ਐਡਜਸਟ ਕਰੋ।

## ਇਹ ਕਿਵੇਂ ਜਾਂਚ ਕਰੀਏ ਕਿ ਯੂਜ਼ਰ ਕਿਸੇ ਖਾਸ ਪਲਾਨ ਅਧੀਨ ਹੈ ਅਤੇ/ਜਾਂ ਉਸਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਹੈ

ਨੈੱਟਵਰਕ ਐਡਮਿਨ ਵਜੋਂ, ਤੁਹਾਨੂੰ ਕਸਟਮ ਫੰਕਸ਼ਨ ਬਣਾਉਣੇ ਪੈ ਸਕਦੇ ਹਨ ਜੋ ਬੇਸਿਕ ਕੰਮ ਕਰਨਗੇ ਜਾਂ ਕੋਈ ਸੇਵਾ/ਫੀਚਰ ਚੁਣੇ ਹੋਏ ਸਬਸਕ੍ਰਾਈਬਰਾਂ ਜਾਂ ਐਂਡ-ਯੂਜ਼ਰਾਂ ਲਈ ਉਪਲਬਧ ਕਰਵਾਉਣਗੇ, ਉਹਨਾਂ ਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਦੀ ਸਥਿਤੀ ਅਤੇ ਉਹਨਾਂ ਦੇ ਪਲਾਨ ਦੇ ਆਧਾਰ 'ਤੇ।

Ultimate Multisite ਦੇ ਇਹ ਨੇਟਿਵ ਫੰਕਸ਼ਨ ਤੁਹਾਡੀ ਇਸ ਵਿੱਚ ਮਦਦ ਕਰਨਗੇ।

ਇਹ ਜਾਂਚ ਕਰਨ ਲਈ ਕਿ ਯੂਜ਼ਰ ਕਿਸੇ ਖਾਸ ਪਲਾਨ ਦਾ ਮੈਂਬਰ ਹੈ, ਤੁਸੀਂ ਇਹ ਫੰਕਸ਼ਨ ਵਰਤ ਸਕਦੇ ਹੋ:

wu_has_plan($user_id, $plan_id)

ਇਹ ਜਾਂਚ ਕਰਨ ਲਈ ਕਿ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਹੈ, ਤੁਸੀਂ ਇਹ ਫੰਕਸ਼ਨ ਵਰਤ ਸਕਦੇ ਹੋ:

wu_is_active_subscriber($user_id)

ਹੇਠਾਂ ਇੱਕ ਉਦਾਹਰਨ ਸਨਿੱਪੇਟ ਹੈ ਜੋ ਜਾਂਚ ਕਰਦਾ ਹੈ ਕਿ ਮੌਜੂਦਾ ਯੂਜ਼ਰ ਕਿਸੇ ਖਾਸ ਪਲਾਨ (_Plan ID 50_) ਅਧੀਨ ਹੈ ਅਤੇ ਯੂਜ਼ਰ ਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਹੈ।

$user_id = get_current_user_id();$plan_id = 50;if (wu_has_plan($user_id, $plan_id) && wu_is_active_subscriber($user_id)) { // ਯੂਜ਼ਰ ਪਲਾਨ ਦਾ ਮੈਂਬਰ ਹੈ ਅਤੇ ਉਸਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਹੈ, ਕੰਮ ਕਰੋ} else { // ਯੂਜ਼ਰ ਪਲਾਨ ਦਾ ਮੈਂਬਰ ਨਹੀਂ ਹੈ -- ਜਾਂ -- ਉਸਦੀ ਸਬਸਕ੍ਰਿਪਸ਼ਨ ਐਕਟਿਵ ਨਹੀਂ ਹੈ, ਹੋਰ ਕੰਮ ਕਰੋ} // end if;

ਧਿਆਨ ਦਿਓ ਕਿ _**wu_has_plan**_ ਨੂੰ ਕੰਮ ਕਰਨ ਲਈ "Plan ID" ਦੀ ਲੋੜ ਹੈ।

ਪਲਾਨ ਦੀ ID ਲੈਣ ਲਈ, ਤੁਸੀਂ **Ultimate Multisite > Products** 'ਤੇ ਜਾ ਸਕਦੇ ਹੋ। ਹਰੇਕ ਪ੍ਰੋਡਕਟ ਦੀ ID ਟੇਬਲ ਦੇ ਸੱਜੇ ਪਾਸੇ ਦਿਖਾਈ ਦੇਵੇਗੀ।

ਧਿਆਨ ਦਿਓ ਕਿ ਯੂਜ਼ਰ ਸਿਰਫ਼ **Plan** ਲਈ ਸਬਸਕ੍ਰਾਈਬ ਹੋ ਸਕਦੇ ਹਨ, Package ਜਾਂ Service ਲਈ ਨਹੀਂ, ਕਿਉਂਕਿ ਇਹ ਸਿਰਫ਼ **Plan** ਲਈ add-ons ਹਨ।

![ਪਲਾਨ IDs ਦਿਖਾਉਂਦੀ Products ਸੂਚੀ](/img/admin/products-list.png)

## ਮੈਪ ਕੀਤੇ ਡੋਮੇਨਾਂ ਵਿੱਚ Font-Icons ਨਾਲ CORS ਸਮੱਸਿਆਵਾਂ ਨੂੰ ਠੀਕ ਕਰਨਾ
## ਮੈਪ ਕੀਤੇ ਡੋਮੇਨਾਂ ਵਿੱਚ Font-Icons ਨਾਲ CORS ਸਮੱਸਿਆਵਾਂ ਨੂੰ ਠੀਕ ਕਰਨਾ

ਕਿਸੇ ਸਬ-ਸਾਈਟ ਨਾਲ ਡੋਮੇਨ ਮੈਪ ਕਰਨ ਤੋਂ ਬਾਅਦ ਤੁਹਾਨੂੰ ਪਤਾ ਲੱਗ ਸਕਦਾ ਹੈ ਕਿ ਸਾਈਟ ਨੂੰ ਕਸਟਮ ਫੌਂਟ ਲੋਡ ਕਰਨ ਵਿੱਚ ਮੁਸ਼ਕਲ ਆ ਰਹੀ ਹੈ। ਇਹ ਤੁਹਾਡੀ ਸਰਵਰ ਸੈਟਿੰਗਾਂ ਵਿੱਚ cross-origin ਬਲਾਕ ਕਾਰਨ ਹੁੰਦਾ ਹੈ।

ਕਿਉਂਕਿ ਫੌਂਟ ਫਾਈਲਾਂ ਲਗਭਗ ਹਮੇਸ਼ਾ ਸਿੱਧੇ CSS ਤੋਂ ਲੋਡ ਹੁੰਦੀਆਂ ਹਨ, ਸਾਡਾ domain mapping plugin URLs ਨੂੰ ਮੂਲ ਡੋਮੇਨ ਦੀ ਬਜਾਏ ਮੈਪ ਕੀਤੇ ਡੋਮੇਨ ਲਈ ਦੁਬਾਰਾ ਲਿਖਣ ਦੇ ਯੋਗ ਨਹੀਂ ਹੁੰਦਾ, ਇਸ ਲਈ ਇਸ ਸਮੱਸਿਆ ਨੂੰ ਠੀਕ ਕਰਨ ਲਈ, ਤੁਹਾਨੂੰ ਆਪਣੀਆਂ ਸਰਵਰ ਕੌਂਫਿਗਰੇਸ਼ਨ ਫਾਈਲਾਂ ਵਿੱਚ ਬਦਲਾਅ ਕਰਨੇ ਪੈਣਗੇ।

ਹੇਠਾਂ Apache ਅਤੇ NGINX ਲਈ ਇਸ ਸਮੱਸਿਆ ਨੂੰ ਠੀਕ ਕਰਨ ਲਈ ਕੋਡ ਸਨਿੱਪੇਟ ਹਨ। ਇਹ ਬਦਲਾਅ ਸਰਵਰ ਕੌਂਫਿਗਰੇਸ਼ਨ ਫਾਈਲਾਂ (.htaccess ਫਾਈਲਾਂ ਅਤੇ NGINX config ਫਾਈਲਾਂ) ਦੀ ਉੱਨਤ ਜਾਣਕਾਰੀ ਦੀ ਲੋੜ ਹੈ। ਜੇ ਤੁਸੀਂ ਇਹ ਬਦਲਾਅ ਖੁਦ ਕਰਨ ਵਿੱਚ ਅਰਾਮਦੇਹ ਨਹੀਂ ਹੋ, ਤਾਂ ਮਦਦ ਮੰਗਣ ਵੇਲੇ ਇਹ ਪੇਜ ਆਪਣੇ ਹੋਸਟਿੰਗ ਪ੍ਰੋਵਾਈਡਰ ਦੀ ਸਪੋਰਟ ਟੀਮ ਨੂੰ ਭੇਜੋ।

### Apache

ਆਪਣੀ .htaccess ਫਾਈਲ ਵਿੱਚ, ਇਹ ਪਾਓ:

<FilesMatch ".(ttf|ttc|otf|eot|woff|font.css|css)$"> Header set Access-Control-Allow-Origin "*" 

### NGINX

ਆਪਣੀ ਸਰਵਰ config ਫਾਈਲ ਵਿੱਚ (ਥਾਂ ਹਰ ਸਰਵਰ ਲਈ ਵੱਖਰੀ ਹੁੰਦੀ ਹੈ), ਇਹ ਪਾਓ:

location ~ .(ttf|ttc|otf|eot|woff|font.css|css)$ { add_header Access-Control-Allow-Origin "*";}
