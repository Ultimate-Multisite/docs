---
title: Closte 統合
sidebar_position: 7
_i18n_hash: 8f07c74ab2f7df614f502e0cc089c3e0
---
# Closte 統合

## 概要
Closte は Google Cloud インフラストラクチャ上に構築されたマネージド WordPress ホスティングプラットフォームです。この統合により、Ultimate Multisite と Closte の間で自動ドメイン同期と SSL 証明書管理が可能になります。

## 機能
- 自動ドメイン同期
- SSL 証明書管理
- ワイルドカードドメインサポート
- Closte 上で実行している場合は設定不要

## 要件
Closte を使用している場合、以下の定数を `wp-config.php` ファイルに定義する必要があります:

```php
define('CLOSTE_CLIENT_API_KEY', 'your_api_key');
```

この定数は、Closteでホスティングしている場合は通常すでに定義されています。

## セットアップ手順

### 1. Closte APIキーを確認する

Closteでホスティングしている場合、`CLOSTE_CLIENT_API_KEY` 定数はすでに `wp-config.php` ファイルに定義されているはずです。`wp-config.php` ファイルを確認して確認できます。

### 2. 統合を有効にする

1. WordPress管理画面で、Ultimate Multisite > 設定 に移動します
2. 「ドメインマッピング」タブに移動します
3. 「ホスト統合」までスクロールします
4. Closte統合を有効にします
5. 「変更を保存」をクリックします

## 仕組み

Ultimate Multisiteでドメインがマッピングされると:

1. 統合がClosteのAPIにリクエストを送信し、ドメインをアプリケーションに追加します
2. Closteが自動的にSSL証明書の発行を処理します
3. ドメインマッピングが削除されると、統合はClosteからドメインを削除します

統合はUltimate MultisiteのDNSチェック間隔設定とも連携し、DNS伝播とSSL証明書発行をシステムが確認する頻度を設定できるようにします。

## ドメインレコード作成

この統合は、サイトが作成または複製されるときにドメインレコードが自動的に作成されることを保証します。これはCloste統合にとって特に重要で、ドメインレコードの作成がCloste APIをトリガーしてドメインとSSL証明書を作成します。

## トラブルシューティング

### API接続の問題

- Closte APIキーが正しいことを確認してください
- Closteアカウントに必要な権限があることを確認してください

### SSL証明書の問題

- ClosteはSSL証明書を発行するまでに時間がかかる場合があります（通常5〜10分）
- ドメインがClosteサーバーのIPアドレスを正しく指していることを確認してください
- ドメインのDNSレコードが正しく設定されていることを確認してください

### ドメインが追加されない

- Ultimate Multisiteのログにエラーメッセージがないか確認してください
- ドメインがすでにClosteに追加されていないことを確認してください
- ドメインのDNSレコードが正しく設定されていることを確認してください

### DNSチェック間隔

- SSL証明書の発行に時間がかかりすぎる場合は、ドメインマッピング設定でDNSチェック間隔を調整できます
- デフォルトの間隔は300秒（5分）ですが、テスト時に高速チェックを行うために10秒まで短縮できます
