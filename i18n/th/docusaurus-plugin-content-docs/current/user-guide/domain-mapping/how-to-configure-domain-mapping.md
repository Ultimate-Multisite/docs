---
title: วิธีกำหนดค่าการแมปโดเมน
sidebar_position: 6
_i18n_hash: 1bb022a0d812fd87791d9ea476f7be84
---
# วิธีตั้งค่า Domain Mapping (v2)

_**หมายเหตุสำคัญ: บทความนี้อ้างอิงถึง Ultimate Multisite เวอร์ชัน 2.x**_

หนึ่งในฟีเจอร์ที่ทรงพลังที่สุดของเครือข่ายระดับพรีเมียมคือความสามารถในการให้ลูกค้าของเราผูกโดเมนระดับบนสุดกับเว็บไซต์ของพวกเขาได้ ลองคิดดูว่าอันไหนดูเป็นมืออาชีพกว่ากัน: [_**joesbikeshop.yournetwork.com**_](http://joesbikeshop.yournetwork.com) หรือ [_**joesbikeshop.com**_](http://joesbikeshop.com)? นั่นเป็นเหตุผลที่ Ultimate Multisite มีฟีเจอร์นี้ในตัว โดยไม่ต้องใช้ปลั๊กอินของบุคคลที่สาม

## Domain mapping คืออะไร?

ตามชื่อเลย domain mapping คือความสามารถที่ Ultimate Multisite มอบให้ในการรับคำร้องขอสำหรับโดเมนแบบกำหนดเอง และแมปคำร้องขอนั้นไปยังเว็บไซต์ที่ตรงกันในเครือข่ายซึ่งผูกโดเมนนั้นไว้

### วิธีตั้งค่า domain mapping บนเครือข่าย Ultimate Multisite ของคุณ

Domain mapping ต้องมีการตั้งค่าบางอย่างจากฝั่งคุณจึงจะทำงานได้ โชคดีที่ Ultimate Multisite จัดการงานยากๆ ให้คุณโดยอัตโนมัติ เพื่อให้คุณสามารถทำตามข้อกำหนดได้อย่างง่ายดาย

ระหว่างการติดตั้ง Ultimate Multisite ตัวช่วยการติดตั้งจะคัดลอกและติดตั้ง **sunrise.php** ไปยังโฟลเดอร์ที่กำหนดโดยอัตโนมัติ **ตัวช่วยการติดตั้งจะไม่ให้คุณดำเนินการต่อจนกว่าขั้นตอนนี้จะเสร็จสมบูรณ์**

![ตัวช่วยติดตั้ง Ultimate Multisite พร้อมขั้นตอน sunrise.php](/img/config/settings-domain-mapping.png)

นั่นหมายความว่าเมื่อตัวช่วยติดตั้ง Ultimate Multisite ตั้งค่าเครือข่ายของคุณเสร็จแล้ว คุณสามารถเริ่มแมปโดเมนแบบกำหนดเองได้ทันที

โปรดทราบว่า domain mapping ใน Ultimate Multisite ไม่ได้บังคับ คุณมีตัวเลือกในการใช้ฟังก์ชัน domain mapping แบบเนทีฟของ WordPress Multisite หรือโซลูชัน domain mapping อื่นๆ

หากคุณต้องการปิดใช้งาน domain mapping ของ Ultimate Multisite เพื่อใช้โซลูชัน domain mapping อื่น คุณสามารถปิดฟีเจอร์นี้ได้ที่ **Ultimate Multisite > Settings > Domain Mapping**

![การตั้งค่า Domain Mapping พร้อมสวิตช์เปิด/ปิด](/img/config/settings-domain-mapping.png)

ด้านล่างตัวเลือกนี้ คุณจะเห็นตัวเลือก **Force Admin Redirect** ด้วย ตัวเลือกนี้ช่วยให้คุณควบคุมว่าลูกค้าของคุณจะสามารถเข้าถึงหน้า admin dashboard ได้ทั้งบนโดเมนแบบกำหนดเองและ subdomain หรือเฉพาะอย่างใดอย่างหนึ่ง

หากคุณเลือก **Force redirect to mapped domain** ลูกค้าของคุณจะสามารถเข้าถึงหน้า admin dashboard ได้เฉพาะบนโดเมนแบบกำหนดเองของพวกเขาเท่านั้น

ตัวเลือก **Force redirect to network domain** จะทำงานตรงกันข้าม - ลูกค้าของคุณจะได้รับอนุญาตให้เข้าถึง dashboard บน subdomain เท่านั้น แม้จะพยายามลงชื่อเข้าใช้บนโดเมนแบบกำหนดเองก็ตาม

และตัวเลือก **Allow access to the admin by both mapped domain domain and network domain** อนุญาตให้พวกเขาเข้าถึงหน้า admin dashboard ได้ทั้งบน subdomain และโดเมนแบบกำหนดเอง

![ตัวเลือก Force Admin Redirect สำหรับ domain mapping](/img/config/settings-domain-mapping.png)

มีสองวิธีในการแมปโดเมนแบบกำหนดเอง วิธีแรกคือการแมปชื่อโดเมนจาก network admin dashboard ในฐานะ super admin และวิธีที่สองคือผ่าน subsite admin dashboard ภายใต้หน้า account

แต่ก่อนที่คุณจะเริ่มแมปโดเมนแบบกำหนดเองกับหนึ่งใน subsites ในเครือข่ายของคุณ คุณจะต้องตรวจสอบให้แน่ใจว่า **การตั้งค่า DNS** ของชื่อโดเมนได้รับการกำหนดค่าอย่างถูกต้อง

### 

### ตรวจสอบให้แน่ใจว่าการตั้งค่า DNS ของโดเมนถูกต้อง

เพื่อให้การแมปทำงานได้ คุณต้องตรวจสอบให้แน่ใจว่าโดเมนที่คุณวางแผนจะแมปชี้ไปยังที่อยู่ IP ของเครือข่ายของคุณ โปรดทราบว่าคุณต้องใช้ที่อยู่ IP ของเครือข่าย - ที่อยู่ IP ของโดเมนที่ติดตั้ง Ultimate Multisite - ไม่ใช่ที่อยู่ IP ของโดเมนแบบกำหนดเองที่คุณต้องการแมป หากต้องการค้นหาที่อยู่ IP ของโดเมนที่เฉพาะเจาะจง เราแนะนำให้ไปที่ [Site24x7](https://www.site24x7.com/find-ip-address-of-web-site.html) เป็นต้น

ในการแมปโดเมนอย่างถูกต้อง คุณต้องเพิ่ม **A RECORD** ในการกำหนดค่า **DNS** ของคุณโดยชี้ไปยัง **ที่อยู่ IP** นั้น การจัดการ DNS แตกต่างกันมากระหว่างผู้ให้บริการจดทะเบียนโดเมนต่างๆ แต่มีบทช่วยสอนออนไลน์มากมายที่ครอบคลุมเรื่องนี้หากคุณค้นหา "_Creating A Record on XXXX_" โดยที่ XXXX คือผู้ให้บริการจดทะเบียนโดเมนของคุณ (เช่น: "_Creating A Record on GoDaddy_")

หากคุณประสบปัญหาในการทำให้สิ่งนี้ทำงานได้ **ติดต่อฝ่ายสนับสนุนของผู้ให้บริการจดทะเบียนโดเมนของคุณ** และพวกเขาจะสามารถช่วยคุณในส่วนนี้ได้

หากคุณวางแผนที่จะอนุญาตให้ลูกค้าแมปโดเมนของตนเอง พวกเขาจะต้องทำงานในส่วนนี้ด้วยตัวเอง ชี้แนะพวกเขาไปยังระบบสนับสนุนของผู้ให้บริการจดทะเบียนโดเมนหากพวกเขาไม่สามารถสร้าง A Record ได้

### การแมปชื่อโดเมนแบบกำหนดเองในฐานะ Super Admin

เมื่อคุณลงชื่อเข้าใช้ในฐานะ super admin บนเครือข่ายของคุณ คุณสามารถเพิ่มและจัดการชื่อโดเมนแบบกำหนดเองได้อย่างง่ายดายโดยไปที่ **Ultimate Multisite > Domains**

![หน้ารายการ Domains ใน Ultimate Multisite](/img/admin/domains-list.png)

ภายใต้หน้านี้ คุณสามารถคลิกปุ่ม **Add Domain** ด้านบน และจะแสดงหน้าต่างป๊อปอัพที่คุณสามารถตั้งค่าและกรอก **ชื่อโดเมนแบบกำหนดเอง** **subsite** ที่คุณต้องการใช้ชื่อโดเมนแบบกำหนดเอง และตัดสินใจว่าคุณต้องการตั้งเป็น **โดเมนหลัก** หรือไม่ (โปรดทราบว่าคุณสามารถแมป **ชื่อโดเมนหลายชื่อไปยัง subsite เดียว** ได้)

![หน้าต่าง Add Domain พร้อมช่องชื่อโดเมนและเว็บไซต์](/img/admin/domains-list.png)

หลังจากกรอกข้อมูลทั้งหมดแล้ว คุณสามารถคลิกปุ่ม **Add Existing Domain** ที่ด้านล่าง

การดำเนินการนี้จะเริ่มกระบวนการยืนยันและดึงข้อมูล DNS ของโดเมนแบบกำหนดเอง คุณจะเห็นบันทึกที่ด้านล่างของหน้าเพื่อให้คุณติดตามกระบวนการที่กำลังดำเนินไป กระบวนการนี้อาจใช้เวลาสักครู่จึงจะเสร็จสมบูรณ์

**Stage** หรือสถานะควรเปลี่ยนจาก **Checking DNS** เป็น **Ready** หากทุกอย่างถูกตั้งค่าอย่างถูกต้อง

![สถานะโดเมนเปลี่ยนจาก Checking DNS เป็น Ready](/img/admin/domains-list.png)

![โดเมนที่มีสถานะ Ready ในรายการโดเมน](/img/admin/domains-list.png)

หากคุณคลิกที่ชื่อโดเมน คุณจะเห็นตัวเลือกบางอย่างภายใน มาดูกันอย่างรวดเร็ว:

![หน้ารายละเอียดโดเมนพร้อมตัวเลือก stage, site, active และ SSL](/img/admin/domains-list.png)

**Stage:** นี่คือขั้นตอนที่โดเมนอยู่ เมื่อคุณเพิ่มโดเมนครั้งแรก มันอาจจะอยู่ในขั้นตอน **Checking DNS** กระบวนการจะตรวจสอบรายการ DNS และยืนยันว่าถูกต้อง จากนั้นโดเมนจะถูกย้ายไปที่ขั้นตอน **Checking SSL** Ultimate Multisite จะตรวจสอบว่าโดเมนมี SSL หรือไม่ และจะจัดหมวดหมู่โดเมนของคุณเป็น **Ready** หรือ **Ready (without SSL)**

**Site:** subdomain ที่เชื่อมโยงกับโดเมนนี้ โดเมนที่แมปจะแสดงเนื้อหาของเว็บไซต์ที่เฉพาะเจาะจงนี้

**Active:** คุณสามารถสลับตัวเลือกนี้เปิดหรือปิดเพื่อเปิดใช้งานหรือปิดใช้งานโดเมน

**Is Primary Domain?:** ลูกค้าของคุณสามารถมีโดเมนที่แมปมากกว่าหนึ่งรายการสำหรับแต่ละเว็บไซต์ ใช้ตัวเลือกนี้เพื่อเลือกว่านี่เป็นโดเมนหลักสำหรับเว็บไซต์ที่เฉพาะเจาะจงหรือไม่

**Is Secure?:** แม้ว่า Ultimate Multisite จะตรวจสอบว่าโดเมนมีใบรับรอง SSL หรือไม่ก่อนเปิดใช้งาน คุณสามารถเลือกด้วยตนเองที่จะโหลดโดเมนโดยมีหรือไม่มีใบรับรอง SSL โปรดทราบว่าหากเว็บไซต์ไม่มีใบรับรอง SSL และคุณพยายามบังคับโหลดด้วย SSL อาจทำให้เกิดข้อผิดพลาด

### การแมปชื่อโดเมนแบบกำหนดเองในฐานะผู้ใช้ Subsite

ผู้ดูแลระบบ Subsite ก็สามารถแมปชื่อโดเมนแบบกำหนดเองจาก subsite admin dashboard ของพวกเขาได้เช่นกัน

ก่อนอื่น คุณต้องตรวจสอบให้แน่ใจว่าคุณเปิดใช้งานตัวเลือกนี้ภายใต้การตั้งค่า **Domain mapping** ดูภาพหน้าจอด้านล่าง

![การตั้งค่า Domain mapping ที่อนุญาตให้ผู้ใช้ subsite แมปโดเมน](/img/config/settings-domain-mapping.png)

คุณยังสามารถตั้งค่าหรือกำหนดค่าตัวเลือกนี้ภายใต้ระดับ **Plan** หรือตัวเลือกผลิตภัณฑ์ที่ **Ultimate Multisite > Products**

![ตัวเลือก custom domains ของผลิตภัณฑ์ในการตั้งค่าผลิตภัณฑ์](/img/config/settings-domain-mapping.png)

เมื่อตัวเลือกใดก็ตามเหล่านี้ถูกเปิดใช้งานและผู้ใช้ subsite ได้รับอนุญาตให้แมปชื่อโดเมนแบบกำหนดเอง ผู้ใช้ subsite ควรเห็น metabox ภายใต้หน้า **Account** ที่ชื่อ **Domains**

![Metabox Domains บนหน้า account ของ subsite](/img/admin/domains-list.png)

ผู้ใช้สามารถคลิกปุ่ม **Add Domain** และจะแสดงหน้าต่างป๊อปอัพพร้อมคำแนะนำบางอย่าง

![หน้าต่าง Add Domain พร้อมคำแนะนำ DNS สำหรับผู้ใช้ subsite](/img/admin/domains-list.png)

จากนั้นผู้ใช้สามารถคลิก **Next Step** และดำเนินการเพิ่มชื่อโดเมนแบบกำหนดเอง พวกเขายังสามารถเลือกได้ว่านี่จะเป็นโดเมนหลักหรือไม่

![ช่องเพิ่มชื่อโดเมนแบบกำหนดเองพร้อมตัวเลือกโดเมนหลัก](/img/admin/domains-list.png)

![คลิก Add Domain เพื่อเริ่มการยืนยัน DNS](/img/admin/domains-list.png)การคลิก **Add Domain** จะเริ่มกระบวนการยืนยันและดึงข้อมูล DNS ของโดเมนแบบกำหนดเอง

### เกี่ยวกับ Domain Syncing

Domain Syncing คือกระบวนการที่ Ultimate Multisite เพิ่มชื่อโดเมนแบบกำหนดเองไปยังบัญชีโฮสติ้งของคุณในฐานะ add-on domain **เพื่อให้ domain mapping ทำงานได้**

Domain syncing จะเกิดขึ้นโดยอัตโนมัติหากผู้ให้บริการโฮสติ้งของคุณมีการผสานรวมกับฟีเจอร์ domain mapping ของ Ultimate Multisite ปัจจุบันผู้ให้บริการโฮสติ้งเหล่านี้คือ _Runcloud, Closte, WP Engine, Gridpane, WPMU Dev, Cloudways,_ และ _Cpanel_

คุณจะต้องเปิดใช้งานการผสานรวมนี้ในการตั้งค่า Ultimate Multisite ภายใต้แท็บ **Integration**

![แท็บ Integration ในการตั้งค่า Ultimate Multisite](/img/config/settings-domain-mapping.png)

![การตั้งค่าการผสานรวมผู้ให้บริการโฮสติ้งสำหรับ domain syncing](/img/config/settings-domain-mapping.png)

_โปรดทราบว่าหากผู้ให้บริการโฮสติ้งของคุณไม่ใช่หนึ่งในผู้ให้บริการที่กล่าวถึงข้างต้น **คุณจะต้อง sync หรือเพิ่มชื่อโดเมนไปยังบัญชีโฮสติ้งของคุณด้วยตนเอง**_
