---
title: Вебхуки
sidebar_position: 15
_i18n_hash: 31948dc4c1b47114e296e95813b25348
---
# Первый взгляд на вебхуки (v2)

_**ВНИМАНИЕ: Обратите внимание, что эта функция или статья предназначены для продвинутых пользователей.**_

Вебхук — это способ для приложения или программного обеспечения, такого как Ultimate Multisite, предоставлять другим приложениям информацию в реальном времени. Вебхук доставляет данные или полезные нагрузки другим приложениям по мере их возникновения, что означает, что вы **получаете данные мгновенно.**

Это полезно, если вам нужно интегрировать или передавать определенные данные из Ultimate Multisite в другую CRM или систему каждый раз, когда срабатывает событие. Например, вам нужно отправлять имя пользователя и адрес электронной почты в список рассылки каждый раз, когда создается новая учётная запись пользователя.

## Как создать вебхук

Чтобы создать вебхук, перейдите в панель администратора сети. Нажмите **Ultimate Multisite > Webhooks > Add New Webhook.**

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-7cBdC7uhfX.png)

При создании нового вебхука вам будет предложено указать такие данные, как **Name, URL,** и **Event**. Вы можете использовать любое имя для вашего вебхука. Самыми важными полями являются URL и Event.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-7MmyV3wafK.png)

URL — это **конечная точка или пункт назначения**, куда Ultimate Multisite будет отправлять **payload или данные**. Это приложение, которое получит данные.

Zapier — самое распространённое решение, которое пользователь использует для упрощения интеграции с сторонними приложениями. Без платформы вроде Zapier вам понадобится вручную создать пользовательскую функцию, которая будет перехватывать данные и обрабатывать их. См. эту статью о **как использовать вебхук Ultimate Multisite с Zapier.**

В этой статье мы рассмотрим базовую концепцию работы вебхука и доступные события в Ultimate Multisite. Мы будем использовать сторонний сайт под названием [requestbin.com](https://requestbin.com/). Этот сайт позволит нам создать конечную точку и перехватить полезную нагрузку без написания кода. _**Отказ от ответственности: всё, что он делает, — это показывает, что данные были получены.**_ Обработка или любые действия с полезной нагрузкой не будет.

Перейдите на [requestbin.com](https://requestbin.com/) и нажмите Create Request Bin.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-J0e5FzS04g.png)

После нажатия этой кнопки вас попросят войти, если у вас уже есть аккаунт, или зарегистрироваться. Если у вас уже есть аккаунт, вы сразу перейдёте к их панели управления. На их панели управления вы сразу увидите конечную точку или URL, которые можно использовать при создании вашего вебхука Ultimate Multisite.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-M40kPMGsji.png)

Скопируйте URL и вернитесь к Ultimate Multisite. Вставьте конечную точку в поле URL и выберите событие из выпадающего списка. В этом примере мы выберем **Payment Received**.

Это событие срабатывает каждый раз, когда пользователь делает платеж. Все доступные события, их описание и полезные нагрузки перечислены внизу страницы. Нажмите кнопку **Add New Webhook**, чтобы сохранить вебхук.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-1NwqQP4bP0.png)

Теперь мы можем отправить тестовое событие в конечную точку, чтобы проверить, работает ли созданный нами вебхук. Для этого нажмите **Send Test Event** под созданным вебхуком.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-zTDhrG4wlP.png)

Это открывает окно подтверждения, сообщающее, что тест прошёл успешно.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-9jP9r7yRT9.png)

Теперь, если мы вернёмся на сайт _Requestbin_, мы увидим, что полезная нагрузка была получена и содержит некоторые тестовые данные.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-RZke5xnrAg.png)

Это основной принцип работы вебхука и конечных точек. Если вы собираетесь создать собственную конечную точку, вам понадобится создать пользовательскую функцию для обработки данных, которые вы получаете от Ultimate Multisite.
