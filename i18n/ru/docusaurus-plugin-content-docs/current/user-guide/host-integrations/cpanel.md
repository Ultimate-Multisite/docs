---
title: Интеграция cPanel
sidebar_position: 5
_i18n_hash: ba79fa3cffb0f29c4eda9bdf59244a2f
---
# cPanel Интеграция

## Обзор
cPanel является одним из самых популярных панелей управления веб‑хостингом, используемых многими провайдерами совместного и выделенного хостинга. Эта интеграция позволяет автоматически синхронизировать домены между Ultimate Multisite и cPanel, позволяя автоматически добавлять доменные псевдонимы и поддомены в ваш аккаунт cPanel.

## Функции
- Автоматическое создание домена‑аддона в cPanel
- Автоматическое создание поддомена в cPanel (для установок мультисайтов с поддоменами)
- Удаление домена при удалении сопоставлений

## Требования
В файле `wp-config.php` необходимо определить следующие константы:

```php
define('WU_CPANEL_USERNAME', 'your_cpanel_username');
define('WU_CPANEL_PASSWORD', 'your_cpanel_password');
define('WU_CPANEL_HOST', 'your_cpanel_host');
```

При желании вы также можете определить:

```php
define('WU_CPANEL_PORT', 2083); // Default is 2083
define('WU_CPANEL_ROOT_DIR', '/public_html'); // Default is /public_html
```

## Инструкции по настройке

### 1. Получите данные для входа в cPanel

1. Получите имя пользователя и пароль cPanel от вашего хостинг‑провайдера
2. Определите хост cPanel (обычно `cpanel.yourdomain.com` или `yourdomain.com:2083`)

### 2. Добавьте константы в wp-config.php

Добавьте следующие константы в ваш файл `wp-config.php`:

```php
define('WU_CPANEL_USERNAME', 'your_cpanel_username');
define('WU_CPANEL_PASSWORD', 'your_cpanel_password');
define('WU_CPANEL_HOST', 'your_cpanel_host');
```

При желании вы можете настроить порт и корневой каталог:

```php
define('WU_CPANEL_PORT', 2083); // Change if your cPanel uses a different port
define('WU_CPANEL_ROOT_DIR', '/public_html'); // Change if your document root is different
```

### 3. Включите интеграцию

1. В админке WordPress перейдите в Ultimate Multisite > Settings
2. Перейдите на вкладку «Сопоставление доменов»
3. Прокрутите вниз до «Интеграции хостинга»
4. Включите интеграцию cPanel
5. Нажмите «Сохранить изменения»

## Как это работает

### Дополнительные домены

Когда домен сопоставлен в Ultimate Multisite:

1. Интеграция отправляет запрос к API cPanel для добавления домена как домена‑аддона
2. Домены настраиваются так, чтобы указывать на ваш корневой каталог
3. При удалении сопоставления домена интеграция удалит домен‑аддон из cPanel

### Поддомены

Для установок мультисайтов с поддоменами, при создании нового сайта:

1. Интеграция извлекает часть поддомена из полного домена
2. Отправляет запрос к API cPanel для добавления поддомена
3. Поддомен настраивается так, чтобы указывать на ваш корневой каталог

## Важные примечания

- Интеграция использует API2 cPanel для общения с вашим аккаунтом cPanel
- Ваш аккаунт cPanel должен иметь разрешения на добавление доменов‑аддонов и поддоменов
- Некоторые хостинг‑провайдеры могут ограничивать количество доменов‑аддонов или поддоменов, которые вы можете создать
- Интеграция не обрабатывает настройку DNS; вам все равно нужно указывать ваши домены на IP‑адрес вашего сервера

## Устранение неполадок

### Проблемы с подключением к API

- Убедитесь, что имя пользователя и пароль cPanel верны
- Проверьте, что хост cPanel правильный и доступен
- Убедитесь, что ваш аккаунт cPanel имеет необходимые разрешения
- Попробуйте использовать полный URL для хоста (например, `https://cpanel.yourdomain.com`)

### Домейн не добавлен

- Проверьте журналы Ultimate Multisite на наличие ошибок
- Убедитесь, что домен не добавлен в cPanel
- Убедитесь, что ваш аккаунт cPanel не достиг лимита доменов‑аддонов или поддоменов

### Проблемы с SSL сертификатом

- Интеграция не обрабатывает выдачу SSL сертификатов
- Вам понадобится использовать инструменты SSL/TLS cPanel или функцию AutoSSL для выдачи сертификатов для ваших доменов
- В качестве альтернативы вы можете использовать сервис, такой как Let's Encrypt, с AutoSSL cPanel
