---
title: GoCardless
sidebar_position: 1
_i18n_hash: 6bdd5faf453a0b33010bfd1064e0f2b8
---
import AddonBanner from '@site/src/components/AddonBanner';

<AddonBanner slug="ultimate-multisite-gocardless" name="GoCardless" />

# GoCardless

Multisite Ultimate: GoCardless Payment

Позвольте вашим клиентам оплачивать членство и продукты Multisite Ultimate с помощью прямого дебета через GoCardless!

## Installation

1. Загрузите 'ultimate-multisite-gocardless' в каталог '/wp-content/plugins/'
2. Активируйте плагин через меню 'Плагины' в WordPress
3. Следуйте пошаговому мастеру, чтобы настроить плагин

## Usage Guide

_GoCardless_ — платежный шлюз, доступный в **Европе и Великобритании**, который позволяет осуществлять платежи через **прямой дебет**.

**Ultimate Multisite: GoCardless Gateway** добавляет поддержку _GoCardless_ в Ultimate Multisite, позволяя взимать плату с ваших клиентов в этом регионе с помощью прямого дебета.

В этом руководстве будет показано, как настроить _GoCardless_, чтобы начать принимать платежи через него в вашей сети Ultimate Multisite.

_**Примечание: GoCardless работает только с следующими валютами:**_ **EUR, GBP, AUD, SEK и DKK.**

## Installing the Add-on

Прежде всего, вам нужно установить дополнение GoCardless для Ultimate Multisite. Вы можете сделать это, перейдя в **Ultimate Multisite > Settings > Add-ons (на боковой панели)**. И выбрав дополнение GoCardless в этом списке.

После установки и активации дополнения перейдите в **Ultimate Multisite > Settings > Payments**, включите опцию GoCardless и сохраните.

![Payment gateway settings](/img/config/settings-payment-gateways.png)

## Getting an Access Token

Создайте аккаунт в _GoCardless_ (или в песочнице _GoCardless_, если хотите **протестировать сначала**, что рекомендуется). Затем, после входа в систему, перейдите к пункту меню **Developers**.

<!-- Screenshot unavailable: GoCardless dashboard showing Developers menu position -->

На странице **Developers** нажмите кнопку **Create** в правом верхнем углу экрана, затем выберите опцию **Access Token**.

<!-- Screenshot unavailable: GoCardless Developers page with Create button and Access Token option -->

Это откроет новое модальное окно, позволяющее создать новый токен. Дайте ему узнаваемое имя и убедитесь, что вы выбрали опцию **Read-write access** в меню **Scope**.

<!-- Screenshot unavailable: GoCardless modal for creating new access token with Read-write scope -->

Токен доступа появится на экране. Скопируйте его и вставьте в меню **Ultimate Multisite > Settings > Payments > GoCardless**.

Убедитесь, что вы разместили его в правильном поле. Если это **live token**, отключите **sandbox mode** перед вставкой токена.

![Payment gateway settings with GoCardless](/img/config/settings-payment-gateways.png)

<!-- Screenshot unavailable: GoCardless token fields in Ultimate Multisite payment settings -->

Это всё для первого шага. Далее вам нужно настроить прослушиватель вебхуков.

## Setting up the Webhook Listener

При работе с подписками Ultimate Multisite должен получать информацию об изменениях статуса подписки, новых платежах и других подобных событиях.

Способ, которым платежные шлюзы уведомляют Ultimate Multisite об этих изменениях, — это **webhook calls**. Поэтому, чтобы интеграция работала на 100 %, нам нужно сообщить _GoCardless_, какой URL вызывать с всей этой информацией.

Вернитесь к панели **GoCardless > Developers** и снова нажмите кнопку Create, но на этот раз выберите опцию **Webhook endpoint**.

<!-- Screenshot unavailable: GoCardless Developers page with Webhook endpoint option -->A new window will open with the webhook endpoint options. It asks for the webhook URL, so head back to your **Ultimate Multisite settings > Payments > GoCardless** and copy the webhook URL listed in there:

<!-- Screenshot unavailable: Ultimate Multisite GoCardless settings showing webhook URL -->

Кроме того, вы можете ввести **webhook secret**, который будет использоваться для подписи ваших вызовов вебхука. Что бы вы ни ввели в этом поле, вам также нужно ввести в поле **Ultimate Multisite Webhook Secret**.

<!-- Screenshot unavailable: GoCardless webhook endpoint configuration form with URL and secret fields -->

<!-- Screenshot unavailable: Ultimate Multisite GoCardless webhook secret field -->

Завершите, сохранив конечную точку, нажав кнопку **Create webhook endpoint**, а затем **сохраните настройки Ultimate Multisite**.

Теперь вы готовы принимать платежи через _GoCardless_!
