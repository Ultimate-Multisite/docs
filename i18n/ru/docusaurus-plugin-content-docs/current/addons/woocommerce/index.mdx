---
title: Интеграция WooCommerce
sidebar_position: 1
_i18n_hash: 58f0a02be92223c785c1086def91b0fb
---
import AddonBanner from '@site/src/components/AddonBanner';

<AddonBanner slug="woocommerce-integration" name="WooCommerce Integration" />

# WooCommerce Integration

Интеграция WooCommerce работает очень похожим образом, как и наш Manual Gateway. Она предоставляет пользователям огромную гибкость, позволяя им выбирать любой из доступных форм оплаты в вашей установке WooCommerce. И это просто: как только заканчивается период выставления счета пользователя, его подписка переводится в режим ожидания. В то же время в установке WooCommerce главного сайта сети создается заказ. Пользователь затем получает счет в своей электронной почте с ссылкой для оплаты. Как только оплата поступает, подписка продлевается.

## Features

- Лёгкая интеграция между Ultimate Multisite и WooCommerce
- Доступно несколько способов оплаты
- Полностью автоматизированный процесс с WooCommerce Subscriptions

## Documentation

**Настройка WooCommerce Integration**

**Расширение ваших вариантов оплаты с Ultimate Multisite: WooCommerce Integration**

## Installation

1. Загрузите 'ultimate-multisite-woocommerce' в каталог '/wp-content/plugins/'
2. Активируйте плагин через меню 'Plugins' в WordPress
3. Следуйте пошаговому мастеру, чтобы настроить плагин

## Usage Guide

_**ВАЖНОЕ ЗАМЕЧАНИЕ: Эта статья относится к версии Ultimate Multisite 2.x.**_

_**ВНИМАНИЕ:** Ultimate Multisite: WooCommerce Integration требует, чтобы WooCommerce был активирован как минимум на вашем главном сайте._  

Мы понимаем, что _Stripe_ и _PayPal_ недоступны в некоторых странах, что ограничивает или мешает пользователям Ultimate Multisite эффективно использовать наш плагин. Поэтому мы создали **дополнение для интеграции _WooCommerce_**.  

_WooCommerce_ — очень популярный плагин eCommerce. Разработчики по всему миру создали дополнения для интеграции различных платежных шлюзов. Мы воспользовались этим, чтобы расширить платежные шлюзы, которые вы можете использовать в системе выставления счетов Ultimate Multisite.

## Setting It Up

Сначала вам нужно установить дополнение WooCommerce Integration, которое **бесплатно для лицензированных пользователей**. Чтобы установить его, нажмите на Ultimate Multisite на панели супер‑администратора и выберите **Add-ons**.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-RRyV5DYA9v.png)

Здесь вы можете найти все дополнения Ultimate Multisite. Нажмите на дополнение **Ultimate Multisite: WooCommerce Integration**.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-4AiiRzTKme.png)

Откроется окно с подробностями дополнения. Просто нажмите **Install Now** *.*

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-JMfodJJZN5.png)

После завершения установки вы будете перенаправлены на страницу плагинов. Здесь просто нажмите **Network Activate**, и дополнение _WooCommerce_ будет активировано в вашей сети.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-LQkSxAF1Sn.png)

После активации, если у вас всё ещё нет установленного и активированного плагина WooCommerce на вашем сайте, **вы получите напоминание**.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-1U4DaZPAiR.png)

После установки вы увидите дополнительную опцию в настройках платежей Ultimate Multisite. Затем вы можете **включить** опцию _WooCommerce_ оттуда.

![](https://wp-ultimo-space.fra1.cdn.digitaloceanspaces.com/hs-file-HDQ1SG1pYO.png)

Вы можете настроить некоторые базовые параметры, такие как отображаемое имя, которое будет показываться во фронтенде, и инструкции, чтобы направлять ваших пользователей в процессе оформления заказа. Затем вы можете перейти к настройкам **Main site’s _WooCommerce_ settings**, чтобы включить и настроить предпочитаемый платежный шлюз.

## How to manage the payment

Интеграция WooCommerce работает очень похожим образом, как и наш **Manual Gateway**. Недостаток в том, что каждая оплата должна быть произведена вручную в конце периода выставления счета. Вот как работает поток:

* Как только заканчивается цикл выставления счета пользователя, членство переводится в режим **on hold**. В то же время будет создан заказ в установке _WooCommerce_ на главном сайте вашей сети.
* Пользователи затем получают счет в своей электронной почте с ссылкой для оплаты (ссылка также появляется в их истории выставления счетов на панели управления их подсайта). Эта ссылка перенаправляет пользователя на страницу **checkout** _**WooCommerce**_, где пользователи смогут выбрать один из **доступных _WooCommerce_ шлюзов** для обработки оплаты.
* Как только оплата поступает, членство **renewed**, оплата записывается в Ultimate Multisite, и заказ помечается как завершенный.

### Some Important Notes:

* Функциональность по умолчанию Ultimate Multisite по-прежнему работает с этой интеграцией. Например, **issuing refunds** с экрана **Subscription Management** будет общаться с WooCommerce для возврата средств, используя выбранную форму оплаты.
* Ultimate Multisite: WooCommerce Integration использует WP-Cron для работы. Это обычно работает отлично, но если сайт имеет низкий трафик, то cron не запускается для проверки запланированных событий, и событие пропускается, что может вызвать задержки выполнения.

## Woocommerce Subscriptions Plugin

Ручная инициатива оплаты каждый месяц не является идеальной для конечных пользователей, поскольку подписка должна автоматически повторяться каждый цикл выставления счета. Поэтому мы разработали дополнение WooCommerce Integration, чтобы **поддерживать WooCommerce Subscriptions plugin**. Это автоматизирует оплату, облегчая транзакцию для ваших конечных пользователей.

Всё, что вам нужно сделать, это **установить** плагин [Woocommerce Subscriptions plugin](https://woocommerce.com/products/woocommerce-subscriptions/) и активировать его на вашем главном сайте. Затем вернитесь к настройкам платежей Ultimate Multisite и **включите интеграцию**.

И всё. Ваши конечные пользователи больше не будут вынуждены вручную производить оплату в конце своего цикла выставления счета.

Помимо того, что заказ создается на вашем главном сайте под _Woocommerce_, он также создаст подписку для каждой учетной записи.
