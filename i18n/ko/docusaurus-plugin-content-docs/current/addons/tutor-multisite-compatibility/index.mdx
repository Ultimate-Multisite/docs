---
title: 튜터 멀티사이트 호환성
sidebar_position: 1
_i18n_hash: eb70406013fbbbd32019b48d0d6558f3
---
import AddonBanner from '@site/src/components/AddonBanner';

<AddonBanner slug="tutor-multisite-compatibility" name="Tutor Multisite Compatibility" />

# 튜터 멀티사이트 호환성

멀티사이트 환경에서 Tutor LMS를 위한 호환성 수정을 추가하는 WordPress 플러그인입니다.

## 설명

이 플러그인은 WordPress 멀티사이트 네트워크에서 Tutor LMS를 실행하기 위한 필수 호환성 수정을 제공합니다. 사용자 등록, 강사 관리, 코스 제한 및 기타 멀티사이트 전용 기능을 처리합니다.

## 기능

- **데이터베이스 테이블 관리**: 멀티사이트 외래키 제약으로 인해 실패한 Tutor LMS 테이블을 자동으로 감지하고 생성합니다.
- **멀티사이트 사용자 등록**: 네트워크 사이트 전반에 걸친 사용자 등록을 관리하기 위한 커스텀 AJAX 핸들러입니다.
- **강사 역할 관리**: 멀티사이트 환경에서 강사 역할을 자동으로 할당하고 관리합니다.
- **코스 제한**: 사이트 플랜에 따라 코스 및 퍼널 생성 제한을 관리하기 위해 Ultimate Multisite와 통합합니다.
- **커스텀 관리자 뷰**: 멀티사이트를 인식하는 강사 목록 및 관리 인터페이스입니다.
- **관리자 도구**: 네트워크 및 사이트 관리자를 위한 데이터베이스 관리 인터페이스입니다.

## 요구 사항

- WordPress 5.0+
- PHP 7.4+
- Tutor LMS plugin (automatically enforced via `Requires Plugins` header)
- WordPress Multisite installation
- Ultimate Multisite plugin (for course limitations functionality)

## 설치

1. Upload the plugin files to `/wp-content/plugins/tutor-multisite-compatibility/`
2. Ensure Tutor LMS is installed and activated
3. Activate the plugin through the 'Plugins' menu in WordPress
4. The plugin will automatically integrate with Tutor LMS

## 파일 구조

```
tutor-multisite-compatibility/
├── tutor-multisite-compatibility.php (Main plugin file)
├── includes/
│   ├── class-database-manager.php (Database table creation and management)
│   ├── class-admin-interface.php (Admin interface for database management)
│   ├── class-course-limits.php (Course and funnel limitation handlers)
│   ├── class-instructor-manager.php (Instructor role management)
│   ├── class-ajax-handlers.php (Custom AJAX handlers)
│   ├── class-query-helper.php (Database query utilities)
│   ├── models/
│   │   └── class-multisite-user-model.php (Multisite user model)
│   └── admin/
│       ├── class-instructors-list.php (Custom instructor list)
│       └── views/
│           └── instructors.php (Instructor admin view)
└── README.md
```

## MU 플러그인에서 이동된 기능

이 플러그인은 이전에 `wp-content/mu-plugins/daves.php`에 있던 기능을 포함합니다:

- Course status change limitations
- Course creation limitations
- CartFlows integration and limits
- Tutor instructor role management
- Multisite user enrollment handling
- Course product ID display

## 데이터베이스 관리

### 문제

WordPress 멀티사이트 환경에서 Tutor LMS 테이블 생성은 사용자 테이블에 대한 외래키 제약이 있는 테이블에 대해 실패합니다. 이는 다음과 같은 이유 때문입니다:

- Site-specific tables use prefixes like `wp_2_tutor_carts`
- Foreign keys reference `wp_2_users` (which doesn't exist)
- The actual users table is `wp_users` (shared across the network)

### 해결책

이 플러그인은 자동으로 다음을 수행합니다:

1. **Detects Missing Tables**: Checks for tables that failed to create due to foreign key constraints
2. **Creates Tables with Correct References**: Uses the proper user table name (`wp_users` in multisite)
3. **Handles Multiple Scenarios**:
   - Plugin activation/reactivation
   - New site creation in network
   - Manual table checking via admin interface

### 영향을 받는 테이블

- `tutor_coupon_usages` - Contains foreign key to users table
- `tutor_carts` - Contains foreign key to users table
- `tutor_notification_preferences` - TutorPro table with foreign key to users table

### 관리자 인터페이스

Access the database management tools at:

- **Network Admin**: Settings → Tutor Multisite DB
- **Site Admin**: Tools → Tutor Multisite DB

The interface allows you to:

- View missing tables across all sites
- Manually trigger table creation
- Check database configuration
- View detailed status information

## 지원

이 플러그인은 KursoPro 플랫폼 전용으로 설계되었습니다. 기술 지원이 필요하면 개발팀에 문의하십시오.
