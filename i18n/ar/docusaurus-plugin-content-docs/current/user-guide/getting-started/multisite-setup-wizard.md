---
title: معالج إعداد المتعدد المواقع
sidebar_position: 3
_i18n_hash: fd09dc94f24b0b37245b847380feea3f
---
# معالج إعداد شبكة متعددة المواقع

يحتوي Ultimate Multisite على معالج مدمج يحول تلقائيًا تثبيت WordPress القياسي إلى شبكة متعددة المواقع. هذا يلغي الحاجة إلى تحرير ملف `wp-config.php` يدويًا أو تشغيل أوامر قاعدة البيانات.

:::tip
إذا كان تثبيت WordPress الخاص بك يعمل بالفعل كشبكة متعددة المواقع، يمكنك تخطي هذه الخطوة تمامًا. يظهر المعالج فقط عندما لا يكون Multisite مفعلًا بعد.
:::

## متى يظهر المعالج؟

عند تفعيل Ultimate Multisite على تثبيت WordPress قياسي (غير متعدد المواقع)، يكتشف المكوّن الإضافي أن Multisite غير مفعل ويعيد توجيهك تلقائيًا إلى معالج إعداد شبكة متعددة المواقع بدلاً من معالج الإعداد العادي.

يمكنك أيضًا الوصول إليه مباشرةً عبر **WP Admin > Ultimate Multisite > إعداد شبكة متعددة المواقع**.

## المتطلبات المسبقة

قبل تشغيل المعالج، تأكد من:

- لديك **وصول مسؤول** إلى تثبيت WordPress الخاص بك
- ملف `wp-config.php` على الخادم قابل للكتابة من قبل خادم الويب
- لديك نسخة احتياطية حديثة من ملفاتك وقاعدة البيانات

:::warning
يقوم المعالج بتعديل ملف `wp-config.php` وإنشاء جداول قاعدة بيانات جديدة. احرص دائمًا على إنشاء نسخة احتياطية قبل المتابعة.
:::

## الخطوة 1: الترحيب

يشرح الشاشة الأولى ما هو WordPress Multisite وما الذي سيفعله المعالج:

- تمكين ميزة Multisite في إعدادات WordPress الخاصة بك
- إنشاء جداول قاعدة بيانات الشبكة اللازمة
- إضافة الثوابت المطلوبة لـ Multisite إلى `wp-config.php`
- تفعيل Ultimate Multisite على مستوى الشبكة

![معالج إعداد شبكة متعددة المواقع - خطوة الترحيب](/img/installation/multisite-wizard/wizard-welcome.png)

انقر على **متابعة** للمتابعة.

## الخطوة 2: تكوين الشبكة

يطلب منك هذا الخطوة تكوين إعدادات الشبكة الخاصة بك.

### هيكل الموقع

اختر كيف سيتم تنظيم مواقع شبكتك:

- **الـ Sub-domains** (مستحسن) — يحصل كل موقع على نطاق فرعي خاص به، على سبيل المثال `site1.yourdomain.com`
- **الـ Sub-directories** — يتم إنشاء المواقع كمسارات، على سبيل المثال `yourdomain.com/site1`

:::note
إذا اخترت الـ Sub-domains، ستحتاج إلى تكوين **DNS متعدد النطاقات** وشهادة SSL متعددة النطاقات لنطاقك. يتعامل معظم مضيفي WordPress المدارة مع ذلك تلقائيًا. راجع [Ultimate Multisite 101](./ultimate-multisite-101) لمقارنة تفصيلية.
:::

### عنوان الشبكة

أدخل اسمًا لشبكتك. يتم تعيينه افتراضيًا إلى عنوان موقعك الحالي مع إضافة كلمة "Network". يمكنك تغيير ذلك لاحقًا من إعدادات الشبكة.

### بريد المسؤول عن الشبكة

عنوان البريد الإلكتروني المستخدم لإشعارات إدارة الشبكة. يتم تعيينه افتراضيًا إلى عنوان البريد الإلكتروني للمستخدم الحالي.

![معالج إعداد شبكة متعددة المواقع - تكوين الشبكة](/img/installation/multisite-wizard/wizard-network-configuration.png)

بعد ملء الحقول، انقر على **متابعة** للمتابعة.

## الخطوة 3: التثبيت

انقر على زر **تثبيت** للبدء. يقوم المعالج بتنفيذ خمس خطوات تلقائية على التوالي، مع عرض تقدم كل خطوة في الوقت الفعلي:

![معالج إعداد شبكة متعددة المواقع - التثبيت قيد الانتظار](/img/installation/multisite-wizard/wizard-installation-pending.png)

| الخطوة | الوصف |
|------|------|
| **تمكين Multisite** | يضيف الثابت `WP_ALLOW_MULTISITE` إلى `wp-config.php` |
| **إنشاء شبكة** | يخلق جداول قاعدة بيانات Multisite (`wp_site`، `wp_sitemeta`، `wp_blogs`، إلخ) ويملأها بإعدادات شبكتك |
| **تحديث الإعدادات** | يضيف الثوابت النهائية لـ Multisite إلى `wp-config.php` (`MULTISITE`، `SUBDOMAIN_INSTALL`، `DOMAIN_CURRENT_SITE`، إلخ) |
| **تصحيح الكوكيز** | يضمن أن عنوان URL للموقع صحيح في بيانات الشبكة لمنع مشاكل المصادقة بعد التفعيل |
| **تفعيل المكوّن الإضافي على مستوى الشبكة** | يُفعّل Ultimate Multisite على مستوى الشبكة ليعمل عبر الشبكة بأكملها |

كل خطوة تعرض إحدى الحالات التالية:

- **قيد الانتظار** — في انتظار المعالجة
- **قيد التثبيت...** — جاري التنفيذ
- **نجاح!** — تم بنجاح
- **رسالة خطأ** — حدث خطأ (ستوضح الرسالة المشكلة)

عند اكتمال جميع الخطوات بنجاح، سترى حالة خضراء "نجاح!" لكل عنصر:

![معالج إعداد شبكة متعددة المواقع - التثبيت مكتمل](/img/installation/multisite-wizard/wizard-installation-complete.png)

ثم سيستمر المعالج تلقائيًا إلى شاشة الإكمال.

## الخطوة 4: إكمال

عند اكتمال التثبيت، سترى رسالة نجاح تؤكد تمكين WordPress Multisite.

![معالج إعداد شبكة متعددة المواقع - الإعداد مكتمل](/img/installation/multisite-wizard/wizard-complete.png)

يمكنك الآن متابعة معالج إعداد Ultimate Multisite لتكوين منصة WaaS الخاصة بك (تفاصيل الشركة، المحتوى الافتراضي، بوابات الدفع، إلخ).

:::note
بعد اكتمال تثبيت شبكة متعددة المواقع، سيعيد متصفحك التوجيه عبر مسؤول الشبكة المُفعّل حديثًا. قد تحتاج إلى تسجيل الدخول مرة أخرى لأن ملفات تعريف الارتباط المصادقة تم تحديثها لبيئة شبكة متعددة المواقع.
:::

## بديل الإعداد اليدوي

إذا لم يتمكن المعالج من كتابة ملف `wp-config.php` (بسبب أذونات الملفات أو قيود الخادم)، سيعرض الكود الدقيق الذي تحتاج إلى إضافته يدويًا:

1. الثوابت **wp-config.php** التي يجب إضافتها فوق سطر `/* That's all, stop editing! */`
2. قواعد إعادة كتابة **.htaccess** المناسبة لهكيل الموقع الذي اخترته (نطاق فرعي أو دليل فرعي)

بعد إجراء التغييرات اليدوية، قم بتحديث الصفحة وسيكتشف المعالج أن شبكة متعددة المواقع نشطة الآن.

## استكشاف الأخطاء وإصلاحها

### يقول المعالج أن wp-config.php غير قابل للكتابة

يحتاج عملية خادم الويب إلى إذن كتابة لملف `wp-config.php`. يمكنك إما:

- تغيير أذونات الملف مؤقتًا إلى `644` أو `666`
- استخدام تعليمات بديل الإعداد اليدوي المقدمة من المعالج
- طلب المساعدة من مزود الاستضافة

### لا يمكن الوصول إلى المواقع بعد الإعداد (النطاقات الفرعية)

إذا اخترت هيكل النطاق الفرعي، تحتاج إلى تكوين **DNS متعدد النطاقات** لنطاقك. أضف سجل DNS:

```
Type: A (or CNAME)
Host: *
Value: [your server IP]
```

تحقق مع مزود الاستضافة إذا كنت غير متأكد من كيفية تكوين ذلك.

### مشاكل المصادقة بعد الإعداد

إذا كنت قد تم تسجيل الخروج أو تواجه أخطاء ملفات تعريف الارتباط بعد إعداد شبكة متعددة المواقع:

1. امسح ملفات تعريف الارتباط الخاصة بالمتصفح للموقع
2. سجّل الدخول مرة أخرى على `yourdomain.com/wp-login.php`
3. إذا استمرت المشكلة، تحقق من أن ملف `wp-config.php` لا يحتوي على `COOKIE_DOMAIN` مضبوط على `false` — هذه مشكلة معروفة في تثبيتات شبكة متعددة المواقع بنطاق فرعي

### فشل خطوة أثناء التثبيت

إذا أظهرت إحدى خطوات التثبيت خطأ:

1. لاحظ رسالة الخطأ المعروضة
2. العودة إلى خطوة التكوين وحاول مرة أخرى
3. إذا استمر الخطأ، تحقق من سجل أخطاء PHP على الخادم للحصول على مزيد من التفاصيل
4. ستتخطى الخطوات التي اكتملت بالفعل في الجولات اللاحقة (المثبت هو غير متغير)
