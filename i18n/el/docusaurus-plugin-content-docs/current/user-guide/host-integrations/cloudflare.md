---
title: Ενσωμάτωση Cloudflare
sidebar_position: 16
_i18n_hash: 41bd975db7c89a129f5f880b439a8f2f
---
# Ενσωμάτωση Cloudflare

## Επισκόπηση
Το Cloudflare είναι ένας κορυφαίος πάροχος δικτύου παράδοσης περιεχομένου (CDN) και ασφάλειας που βοηθά στην προστασία και επιτάχυνση ιστοσελίδων. Αυτή η ενσωμάτωση επιτρέπει την αυτόματη διαχείριση domain μεταξύ του Ultimate Multisite και του Cloudflare, ειδικά για εγκαταστάσεις multisite με subdomain.

## Δυνατότητες
- Αυτόματη δημιουργία subdomain στο Cloudflare
- Υποστήριξη proxied subdomain
- Διαχείριση εγγραφών DNS
- Βελτιωμένη εμφάνιση εγγραφών DNS στη διαχείριση του Ultimate Multisite

## Απαιτήσεις
Οι παρακάτω σταθερές πρέπει να οριστούν στο αρχείο `wp-config.php`:

```php
define('WU_CLOUDFLARE_API_KEY', 'your_api_key');
define('WU_CLOUDFLARE_ZONE_ID', 'your_zone_id');
```

## Οδηγίες Ρύθμισης

### 1. Λήψη του API Key από το Cloudflare

1. Συνδεθείτε στον πίνακα ελέγχου του Cloudflare
2. Πηγαίνετε στο "My Profile" (κάντε κλικ στο email σας στην πάνω δεξιά γωνία)
3. Επιλέξτε "API Tokens" από το μενού
4. Δημιουργήστε ένα νέο API token με τα εξής δικαιώματα:
   - Zone.Zone: Read
   - Zone.DNS: Edit
5. Αντιγράψτε το API token σας

### 2. Λήψη του Zone ID

1. Στον πίνακα ελέγχου του Cloudflare, επιλέξτε το domain που θέλετε να χρησιμοποιήσετε
2. Το Zone ID είναι ορατό στην καρτέλα "Overview", στη δεξιά πλαϊνή στήλη κάτω από το "API"
3. Αντιγράψτε το Zone ID

### 3. Προσθήκη Σταθερών στο wp-config.php

Προσθέστε τις παρακάτω σταθερές στο αρχείο `wp-config.php`:

```php
define('WU_CLOUDFLARE_API_KEY', 'your_api_token');
define('WU_CLOUDFLARE_ZONE_ID', 'your_zone_id');
```

### 4. Ενεργοποίηση της Ενσωμάτωσης

1. Στη διαχείριση του WordPress, πηγαίνετε στο Ultimate Multisite > Settings
2. Μεταβείτε στην καρτέλα "Domain Mapping"
3. Κάντε κύλιση προς τα κάτω στο "Host Integrations"
4. Ενεργοποιήστε την ενσωμάτωση Cloudflare
5. Κάντε κλικ στο "Save Changes"

## Πώς Λειτουργεί

### Διαχείριση Subdomain

Όταν δημιουργείται ένας νέος ιστότοπος σε μια εγκατάσταση multisite με subdomain:

1. Η ενσωμάτωση στέλνει ένα αίτημα στο API του Cloudflare για να προσθέσει μια εγγραφή CNAME για το subdomain
2. Το subdomain ρυθμίζεται να περνά μέσω proxy του Cloudflare από προεπιλογή (αυτό μπορεί να αλλάξει με filters)
3. Όταν διαγράφεται ένας ιστότοπος, η ενσωμάτωση αφαιρεί το subdomain από το Cloudflare

### Εμφάνιση Εγγραφών DNS

Η ενσωμάτωση βελτιώνει την εμφάνιση εγγραφών DNS στη διαχείριση του Ultimate Multisite:

1. Ανακτά τις εγγραφές DNS απευθείας από το Cloudflare
2. Εμφανίζει αν οι εγγραφές περνούν μέσω proxy ή όχι
3. Δείχνει πρόσθετες πληροφορίες για τις εγγραφές DNS

## Σημαντικές Σημειώσεις

Με τις πρόσφατες ενημερώσεις του Cloudflare, το wildcard proxying είναι πλέον διαθέσιμο για όλους τους πελάτες. Αυτό σημαίνει ότι η ενσωμάτωση με το Cloudflare είναι λιγότερο κρίσιμη για εγκαταστάσεις multisite με subdomain από ό,τι ήταν παλαιότερα, καθώς μπορείτε απλά να ρυθμίσετε μια wildcard εγγραφή DNS στο Cloudflare.

## Αντιμετώπιση Προβλημάτων

### Προβλήματα Σύνδεσης API
- Βεβαιωθείτε ότι το API token είναι σωστό και έχει τα απαραίτητα δικαιώματα
- Ελέγξτε ότι το Zone ID είναι σωστό
- Βεβαιωθείτε ότι ο λογαριασμός σας στο Cloudflare έχει τα απαραίτητα δικαιώματα

### Το Subdomain Δεν Προστέθηκε
- Ελέγξτε τα logs του Ultimate Multisite για τυχόν μηνύματα σφάλματος
- Βεβαιωθείτε ότι το subdomain δεν έχει ήδη προστεθεί στο Cloudflare
- Βεβαιωθείτε ότι το πλάνο Cloudflare σας υποστηρίζει τον αριθμό εγγραφών DNS που δημιουργείτε

### Προβλήματα με το Proxying
- Αν δεν θέλετε τα subdomain να περνούν μέσω proxy, μπορείτε να χρησιμοποιήσετε το filter `wu_cloudflare_should_proxy`
- Ορισμένες λειτουργίες μπορεί να μην δουλεύουν σωστά όταν περνούν μέσω proxy (π.χ. ορισμένες λειτουργίες διαχείρισης του WordPress)
- Σκεφτείτε να χρησιμοποιήσετε τους Page Rules του Cloudflare για να παρακάμψετε την cache για τις σελίδες διαχείρισης
