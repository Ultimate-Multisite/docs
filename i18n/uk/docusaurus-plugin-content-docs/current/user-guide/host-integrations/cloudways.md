---
title: Інтеграція з Cloudways
sidebar_position: 3
_i18n_hash: 931ac98efe704dc50c74537ea2676529
---
# Інтеграція з Cloudways

## Огляд
Cloudways — це платформа керованого хмарного хостингу, яка дозволяє розгортати сайти WordPress на різних хмарних провайдерах, таких як DigitalOcean, AWS, Google Cloud та інших. Ця інтеграція забезпечує автоматичну синхронізацію доменів і керування SSL-сертифікатами між Ultimate Multisite і Cloudways.

## Можливості
- Автоматична синхронізація доменів
- Керування SSL-сертифікатами
- Підтримка додаткових доменів
- DNS-валідація для SSL-сертифікатів

## Вимоги
У вашому файлі `wp-config.php` потрібно визначити такі константи:

```php
define('WU_CLOUDWAYS_EMAIL', 'your_cloudways_email');
define('WU_CLOUDWAYS_API_KEY', 'your_api_key');
define('WU_CLOUDWAYS_SERVER_ID', 'your_server_id');
define('WU_CLOUDWAYS_APP_ID', 'your_app_id');
```

За бажанням можна також визначити:

```php
define('WU_CLOUDWAYS_EXTRA_DOMAINS', 'comma,separated,list,of,domains');
```

## Інструкція з налаштування

### 1. Отримайте облікові дані API Cloudways

1. Увійдіть у свою панель керування Cloudways
2. Перейдіть до "Account" > "API Keys"
3. Згенеруйте API-ключ, якщо у вас його ще немає
4. Скопіюйте свою електронну адресу та API-ключ

### 2. Отримайте ідентифікатори сервера та застосунку

1. У панелі керування Cloudways перейдіть до "Servers"
2. Виберіть сервер, на якому розміщено ваш WordPress multisite
3. Ідентифікатор сервера видно в URL: `https://platform.cloudways.com/server/{SERVER_ID}`
4. Перейдіть до "Applications" і виберіть ваш застосунок WordPress
5. Ідентифікатор застосунку видно в URL: `https://platform.cloudways.com/server/{SERVER_ID}/application/{APP_ID}`

### 3. Додайте константи до wp-config.php

Додайте такі константи до вашого файлу `wp-config.php`:

```php
define('WU_CLOUDWAYS_EMAIL', 'your_cloudways_email');
define('WU_CLOUDWAYS_API_KEY', 'your_api_key');
define('WU_CLOUDWAYS_SERVER_ID', 'your_server_id');
define('WU_CLOUDWAYS_APP_ID', 'your_app_id');
```

Якщо у вас є додаткові домени, які завжди потрібно включати:

```php
define('WU_CLOUDWAYS_EXTRA_DOMAINS', 'domain1.com,domain2.com,*.wildcard.com');
```

### 4. Увімкніть інтеграцію

1. В адмін-панелі WordPress перейдіть до Ultimate Multisite > Settings
2. Перейдіть на вкладку "Domain Mapping"
3. Прокрутіть униз до "Host Integrations"
4. Увімкніть інтеграцію з Cloudways
5. Натисніть "Save Changes"

## Як це працює

### Синхронізація доменів

Коли домен прив'язується в Ultimate Multisite:

1. Інтеграція отримує всі поточні прив'язані домени
2. Додає новий домен до списку (разом із www-версією, якщо застосовно)
3. Надсилає повний список до Cloudways через API
4. Cloudways оновлює псевдоніми доменів для вашого застосунку

Примітка: API Cloudways вимагає надсилання повного списку доменів кожного разу, а не лише додавання чи видалення окремих доменів.

### Керування SSL-сертифікатами

Після синхронізації доменів:

1. Інтеграція перевіряє, які домени мають дійсні DNS-записи, що вказують на ваш сервер
2. Надсилає запит до Cloudways на встановлення SSL-сертифікатів Let's Encrypt для цих доменів
3. Cloudways виконує випуск та встановлення SSL-сертифікатів

## Додаткові домени

Константа `WU_CLOUDWAYS_EXTRA_DOMAINS` дозволяє вказати додаткові домени, які завжди мають включатися при синхронізації з Cloudways. Це корисно для:

- Доменів, які не керуються через Ultimate Multisite
- Wildcard-доменів (наприклад, `*.example.com`)
- Доменів для розробки або тестування

## Усунення неполадок

### Проблеми з підключенням до API
- Переконайтеся, що ваша електронна адреса та API-ключ правильні
- Перевірте, чи правильні ідентифікатори сервера та застосунку
- Переконайтеся, що ваш обліковий запис Cloudways має необхідні дозволи

### Проблеми з SSL-сертифікатами
- Cloudways вимагає, щоб домени мали дійсні DNS-записи, що вказують на ваш сервер, перед випуском SSL-сертифікатів
- Інтеграція перевіряє DNS-записи перед запитом SSL-сертифікатів
- Якщо SSL-сертифікати не випускаються, перевірте, чи ваші домени правильно вказують на IP-адресу вашого сервера

### Домен не додається
- Перевірте журнали Ultimate Multisite на наявність повідомлень про помилки
- Переконайтеся, що домен ще не додано до Cloudways
- Переконайтеся, що ваш тарифний план Cloudways підтримує кількість доменів, які ви додаєте
